<!-- include static header -->
<%- include ('partials/header.ejs') -%>

<!-- dynamic main content -->
<div class="container">
    <!-- move the content one row down -->
    <br>
    <!-- everything in this div in one row -->
    <div class="row">
        <!-- left menu -->
        <div class="col-sm-12 col-md-3">
            <!-- include left menu -->
            <%- include ('partials/left-menu.ejs') -%>
        </div>

        <% if(data[0] != undefined) { %>
            <!-- main content -->
            <div class="col-sm-12 col-md-9">
                <div class="card">
                    <div class="col">
                        <br>
                        <h1><%= data[0].catname %> - <%= data[0].subname %></h1>
                        <br>
                        <div class="row">
                            <% for(let i=0;i<data.length;i++) { %>
                                <!-- break after 3 items -->
                                <%  if(i % 3 == 0) { %>
                        </div>
                        <!-- end first row items -->
                        <br>
                        <!-- second row items -->
                        <div class="row">
                            <%  } %>
                            <div class="col-4">
                                <div class="card">
                                    <a href="/dish/<%= data[i].id %>"><img src="/public/uploads/<%= data[i].image_name %>" class="card-img-top" id="indexCardImgTop"></a>
                                    <div class="card-body" id="indexCardImgBody">
                                        <p class="card-text"><%= data[i].name %></p>
                                        <small><%= data[i].short_description %></small>
                                    </div>
                                </div>
                            </div>
                            <% } %>
                        </div>
                        <br>
                    </div>
                </div>
            </div>

        <% } else { %>
            <!-- main content -->
            <div class="col-9">
                <div class="card">
                    <div class="col">
                        <br>
                        <h1>Bisher kein Rezept vorhanden</h1>
                        <br>
                        <p><a href="/browse">Zur√ºck</a></p>
                    </div>
                </div>
            </div>
        <% } %>
    </div>
</div>
<!-- include static footer -->
<%- include ('partials/footer.ejs') -%>
<!-- spacing at content end -->
<br>